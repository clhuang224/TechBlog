<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>六角學院 Vue.js 課程筆記（更新中） | Lynn&#39;s TechBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文為觀看六角學院「 Vue 出一個電商網站」的紀錄。">
<meta property="og:type" content="article">
<meta property="og:title" content="六角學院 Vue.js 課程筆記（更新中）">
<meta property="og:url" content="http://clhuang224.github.io/TechBlog/2019/08/08/20190808-hex-vue/index.html">
<meta property="og:site_name" content="Lynn&#39;s TechBlog">
<meta property="og:description" content="本文為觀看六角學院「 Vue 出一個電商網站」的紀錄。">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2019-08-08T12:33:41.000Z">
<meta property="article:modified_time" content="2020-02-23T10:17:22.550Z">
<meta property="article:author" content="Lynn">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Vue.js">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/TechBlog/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/TechBlog/" id="logo">Lynn&#39;s TechBlog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/TechBlog/">Home</a>
        
          <a class="main-nav-link" href="/TechBlog/about">About</a>
        
          <a class="main-nav-link" href="/TechBlog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://clhuang224.github.io/TechBlog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-hex-vue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/TechBlog/2019/08/08/20190808-hex-vue/" class="article-date">
  <time datetime="2019-08-08T12:33:41.000Z" itemprop="datePublished">2019-08-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/TechBlog/categories/%E7%B7%9A%E4%B8%8A%E8%AA%B2%E7%A8%8B%E8%A7%80%E7%9C%8B%E7%AD%86%E8%A8%98/">線上課程觀看筆記</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      六角學院 Vue.js 課程筆記（更新中）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文為觀看六角學院「 <a href="https://www.udemy.com/vue-hexschool/" target="_blank" rel="noopener">Vue 出一個電商網站</a>」的紀錄。</p>
<a id="more"></a>

<h2 id="相關資源"><a href="#相關資源" class="headerlink" title="相關資源"></a>相關資源</h2><ul>
<li><a href="https://vuejs.org/v2/guide/" target="_blank" rel="noopener">Vue.js 官方文件</a></li>
</ul>
<h2 id="建立環境"><a href="#建立環境" class="headerlink" title="建立環境"></a>建立環境</h2><h3 id="Visual-Studio-Code-擴充功能"><a href="#Visual-Studio-Code-擴充功能" class="headerlink" title="Visual Studio Code 擴充功能"></a>Visual Studio Code 擴充功能</h3><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a><a href="https://marketplace.visualstudio.com/items?itemName=jcbuisson.vue" target="_blank" rel="noopener">vue</a></h4><p>使 .vue 檔有高亮效果。</p>
<h4 id="Vue-2-Snippets"><a href="#Vue-2-Snippets" class="headerlink" title="Vue 2 Snippets"></a><a href="https://marketplace.visualstudio.com/items?itemName=hollowtree.vue-snippets" target="_blank" rel="noopener">Vue 2 Snippets</a></h4><p>使 .vue 檔中有自動完成片段的功能。</p>
<h4 id="Preview-on-Web-Server"><a href="#Preview-on-Web-Server" class="headerlink" title="Preview on Web Server"></a><a href="https://marketplace.visualstudio.com/items?itemName=yuichinukiyama.vscode-preview-server" target="_blank" rel="noopener">Preview on Web Server</a></h4><p>按 ctrl + shift + L 讓網頁可以在 Web Server 執行。</p>
<h3 id="Chrome-擴充功能"><a href="#Chrome-擴充功能" class="headerlink" title="Chrome 擴充功能"></a>Chrome 擴充功能</h3><h4 id="Vue-Devtools"><a href="#Vue-Devtools" class="headerlink" title="Vue Devtools"></a><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="noopener">Vue Devtools</a></h4><p>官方推薦的擴充功能，能在 Chrome 開發人員工具中看到 Vue 相關資訊，便於除錯。</p>
<h3 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a><a href="https://cn.vuejs.org/v2/guide/installation.html" target="_blank" rel="noopener">安裝</a></h3><p>可以引用 Development 或 Production 兩個版本，差異是後者無法使用 Vue Devtools ，也沒有錯誤訊息。</p>
<h3 id="建立-Vue-應用程式"><a href="#建立-Vue-應用程式" class="headerlink" title="建立 Vue 應用程式"></a>建立 Vue 應用程式</h3><p>首先宣告一個 Vue 物件，選擇要運作的 DOM 元素，然後準備適當的資料：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        text: <span class="string">'Hello World!'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>將資料呈現在 HTML 中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123;text&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>通常一頁只有一個 Vue 應用程式。</li>
<li>Vue 物件只能綁定一個 DOM 元素，所以如果用 class 綁定，只會綁定到第一個元素。</li>
<li>Vue 應用程式不能為巢狀；綁定的 DOM 元素如果在另一個 Vue 物件所綁定的對象之內，則無效。</li>
</ul>
</blockquote>
<h2 id="基本架構"><a href="#基本架構" class="headerlink" title="基本架構"></a>基本架構</h2><p>Vue.js 是以資料改變畫面（MVVM）。</p>
<ul>
<li>data ：資料</li>
<li>methods ： function ，可以改變 data 的資料。</li>
<li>computed ： 以 function 的回傳值作為資料；當 data 被更動時，會直接觸發；通常觸發時不會改變 data 的資料。</li>
</ul>
<blockquote>
<p>資料量多時，用 computed 會一直在計算；用 methods 就可以控制效能。</p>
</blockquote>
<h3 id="常見指令"><a href="#常見指令" class="headerlink" title="常見指令"></a>常見指令</h3><ul>
<li>v-text<ul>
<li>類似 .textContent</li>
</ul>
</li>
<li>v-html<ul>
<li>類似 .innerHtml</li>
</ul>
</li>
<li>v-bind: / :<ul>
<li>Vue.js 中，要在屬性的地方綁定資料的話，要將指令加在屬性前，而非在屬性內寫大括號。</li>
<li>事實上綁定的 DOM 元素與性質（Property）。</li>
<li>屬性（attribute）指的是 HTML 文件中，用來指定特定性質的字串，性質（Property）則是 DOM 元素所擁有的 Member 。</li>
<li>可以應用在 class 的部分：v-bind:class=”{‘className’ : 判斷式}”</li>
</ul>
</li>
<li>v-model<ul>
<li>綁定輸入類的元素和資料，可以讓使用者改變資料</li>
</ul>
</li>
<li>v-for<ul>
<li>用迴圈重複產生元素</li>
</ul>
</li>
<li>v-if<ul>
<li>用判斷式決定元素是否顯示</li>
</ul>
</li>
<li>v-on / @<ul>
<li>綁定事件</li>
<li>事件修飾符 .prevent 可以達到 event.preventDefault() 的效果。</li>
<li>按鍵修飾符 .enter 寫成 v-on:keyup.enter 可以綁定按 Enter 時觸發的 function 。</li>
</ul>
</li>
</ul>
<p class="codepen" data-height="236" data-theme-id="0" data-default-tab="js,result" data-user="clhuang224" data-slug-hash="XWryZNq" style="height: 236px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Vue.js 指令">
  <span>See the Pen <a href="https://codepen.io/clhuang224/pen/XWryZNq" target="_blank" rel="noopener">
  Vue.js 指令</a> by C.L.Huang (<a href="https://codepen.io/clhuang224" target="_blank" rel="noopener">@clhuang224</a>)
  on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</span>
</p>

<h3 id="表單應用"><a href="#表單應用" class="headerlink" title="表單應用"></a>表單應用</h3><p>可以注意的細節：</p>
<ul>
<li>checkbox 與陣列綁定</li>
<li>&lt;select&gt; 中不可選擇的項目可用 disabled</li>
</ul>
<p class="codepen" data-height="333" data-theme-id="default" data-default-tab="html,result" data-user="clhuang224" data-slug-hash="GRRPKJr" style="height: 333px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Vue.js 表單應用">
  <span>See the Pen <a href="https://codepen.io/clhuang224/pen/GRRPKJr" target="_blank" rel="noopener">
  Vue.js 表單應用</a> by C.L.Huang (<a href="https://codepen.io/clhuang224" target="_blank" rel="noopener">@clhuang224</a>)
  on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</span>
</p>

<h3 id="元件化"><a href="#元件化" class="headerlink" title="元件化"></a>元件化</h3><p>可以在 Vue 中定義元件，並在 Vue 實體中取用。<br>不同的元件擁有各自獨立的資料內容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定義元件名稱及內容</span></span><br><span class="line">Vue.component(<span class="string">'counter-component'</span>,&#123;</span><br><span class="line">    <span class="comment">// 元件中的 data 是以 function 回傳物件的格式</span></span><br><span class="line">   data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="comment">// 元件中的變數</span></span><br><span class="line">        counter: <span class="number">0</span>,</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">// 元件的 HTML 樣板</span></span><br><span class="line">   template: <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;button class="counter" @click="counter+=1"&gt;&#123;&#123;counter&#125;&#125;&lt;/button&gt;</span></span><br><span class="line"><span class="string">   `</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p class="codepen" data-height="229" data-theme-id="default" data-default-tab="result" data-user="clhuang224" data-slug-hash="wvvRwYx" style="height: 229px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Vue.js 元件化">
  <span>See the Pen <a href="https://codepen.io/clhuang224/pen/wvvRwYx" target="_blank" rel="noopener">
  Vue.js 元件化</a> by C.L.Huang (<a href="https://codepen.io/clhuang224" target="_blank" rel="noopener">@clhuang224</a>)
  on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</span>
</p>

<h3 id="實作-Todolist"><a href="#實作-Todolist" class="headerlink" title="實作 Todolist"></a>實作 Todolist</h3><ul>
<li>綁定資料<ul>
<li>新增事項：&lt;input type=”text”&gt; ←→ newInput</li>
<li>勾選事項：&lt;input type=”checkbox”&gt; ←→ item.done</li>
<li>編輯事項：&lt;input type=”text”&gt; ←→ editingInput</li>
</ul>
</li>
<li>綁定事件<ul>
<li>新增事項<ul>
<li>&lt;button&gt; ←→ addItem()</li>
<li>&lt;input&gt; ←→ addItem()</li>
</ul>
</li>
<li>編輯事項<ul>
<li>&lt;button&gt; ←→ editItem(target)</li>
<li>&lt;input&gt; ←→ addItem(target)</li>
</ul>
</li>
</ul>
</li>
<li>綁定樣式<ul>
<li>勾選事項<ul>
<li>&lt;label :class=”{‘line-through’: item.done}”&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="codepen" data-height="379" data-theme-id="default" data-default-tab="js,result" data-user="clhuang224" data-slug-hash="vYYvZqv" style="height: 379px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Vue.js Todolist">
  <span>See the Pen <a href="https://codepen.io/clhuang224/pen/vYYvZqv" target="_blank" rel="noopener">
  Vue.js Todolist</a> by C.L.Huang (<a href="https://codepen.io/clhuang224" target="_blank" rel="noopener">@clhuang224</a>)
  on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</span>
</p>

<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

<h2 id="Vue-CLI"><a href="#Vue-CLI" class="headerlink" title="Vue CLI"></a><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener">Vue CLI</a></h2><ul>
<li>基於 Webpack 所建置的開發工具</li>
<li>便於使用第三方套件，可運行編譯工具</li>
<li>不便於開發非 SPA 的網頁</li>
<li>提供 GUI 介面</li>
</ul>
<h3 id="安裝-1"><a href="#安裝-1" class="headerlink" title="安裝"></a>安裝</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue/cli</span><br></pre></td></tr></table></figure>

<h3 id="開啟專案"><a href="#開啟專案" class="headerlink" title="開啟專案"></a>開啟專案</h3><p>下指令之後會出現一些設定的選項，可以順便把基本的內容都一起安裝在專案中。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create [projectName]</span><br></pre></td></tr></table></figure>

<h3 id="資料夾結構"><a href="#資料夾結構" class="headerlink" title="資料夾結構"></a>資料夾結構</h3><ul>
<li>/src<ul>
<li>開發用的檔案，會被編譯</li>
</ul>
</li>
<li>/src/main.js<ul>
<li>Webpack 專案中，程式的進入點</li>
</ul>
</li>
<li>/src/assets<ul>
<li>開發所用到的圖片等資源</li>
<li>特定尺寸以下的圖檔會被編譯成 base 64</li>
</ul>
</li>
<li>/node_modules<ul>
<li>套件的資料夾，通常在 gitignore 中</li>
</ul>
</li>
<li>/dist<ul>
<li>npm run build 後所產生的交付用檔案</li>
<li>需要在 HTML server 下才能運行</li>
</ul>
</li>
<li>/dist/static<ul>
<li>不會被編譯的檔案</li>
</ul>
</li>
</ul>
<h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a><a href="https://cli.vuejs.org/config/" target="_blank" rel="noopener">Config</a></h3><h4 id="Global-CLI-config"><a href="#Global-CLI-config" class="headerlink" title="Global CLI config"></a>Global CLI config</h4><p>可以使用 vue config 來修改 CLI 的全域設定 。</p>
<h4 id="Vue-config-js"><a href="#Vue-config-js" class="headerlink" title="Vue.config.js"></a>Vue.config.js</h4><p>Vue.config.js 可以新增在專案根目錄中，也可以在 package.json 中用 vue 為 key 來設定。<br>內容必須為下方的格式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: <span class="string">'/'</span>,</span><br><span class="line">  <span class="comment">// etc.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常見的 key ：</p>
<ul>
<li>publicPath<ul>
<li>部屬時的 Base URL ，預設為域名的根路徑</li>
</ul>
</li>
<li>outputDir<ul>
<li>部屬的路徑，預設為 /dist</li>
</ul>
</li>
</ul>
<h3 id="環境變量與模式"><a href="#環境變量與模式" class="headerlink" title="環境變量與模式"></a><a href="https://cli.vuejs.org/zh/guide/mode-and-env.htm" target="_blank" rel="noopener">環境變量與模式</a></h3><p>當開發與發佈所使用的特定參數不同，或是有一些敏感資訊希望被 git 忽略時，可以使用環境變數。<br>在 src 資料夾中可以加入環境變數設定的檔案，不同的檔名有不同的用途。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.env                <span class="comment"># 在所有的環境中被載入</span></span><br><span class="line">.env.local          <span class="comment"># 在所有的環境中被載入，但會被 git 忽略</span></span><br><span class="line">.env.[mode]         <span class="comment"># 在指定的模式中被載入</span></span><br><span class="line">.env.[mode].<span class="built_in">local</span>   <span class="comment"># 在指定的模式中被載入，但會被 git 忽略</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .env.[mode] 優先於 .env</span></span><br></pre></td></tr></table></figure>

<p>mode 可分為：</p>
<ul>
<li>development<ul>
<li>用於 vue-cli-service serve</li>
</ul>
</li>
<li>production<ul>
<li>用於 vue-cli-service build 和 vue-cli-service test:e2e</li>
</ul>
</li>
<li>test<ul>
<li>用於 vue-cli-service test:unit</li>
</ul>
</li>
</ul>
<p>如果想要指定特定指令所使用的環境變量，可以自訂腳本。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"dev-build"</span>: <span class="string">"vue-cli-service build --mode development"</span></span><br></pre></td></tr></table></figure>

<p>變數的類型有三種：</p>
<ul>
<li>NODE_ENV<ul>
<li>表示這份環境變數檔案的類型</li>
<li>值為 “development” 、 “production” 或 “test”</li>
<li>如果檔名已經是 .env.[mode] ，以檔名優先</li>
</ul>
</li>
<li>BASE_URL<ul>
<li>部屬的路徑</li>
<li>對應 vue.config.js 的 publicPath</li>
</ul>
</li>
<li>VUE_APP_*<ul>
<li>其他所有的環境變數都要有 VUE_APP_ 前綴</li>
<li>使用 process.env.VUE_APP_* 呼叫</li>
</ul>
</li>
</ul>
<h3 id="常用套件"><a href="#常用套件" class="headerlink" title="常用套件"></a>常用套件</h3><ul>
<li><a href="https://github.com/imcvampire/vue-axios" target="_blank" rel="noopener">Vue Axios</a><ul>
<li>axios 是一個 AJAX 的套件，封裝了 AJAX 的功能，讓其易於使用。</li>
</ul>
</li>
</ul>
<h3 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue Router"></a><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">Vue Router</a></h3><p>是 Vue.js 官方的路由管理器，可以進行動態路由配置。</p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>如果在開啟專案時已經有選擇 router ，會自動產生，但若沒有就可以自行配置。<br>首先安裝 Vue Router 。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 NPM 5.0 前，要加上 --save 才會在 package.json 新增相關內容，之後的版本不加也 OK</span></span><br><span class="line">npm install vue-router</span><br></pre></td></tr></table></figure>

<p>接著在 /src 底下新增 router/index.js ，內容如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 官方模組，沒有 ./ 的情況下預設是引用 node_modules 裡的內容</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span>;</span><br><span class="line"><span class="comment">// 自訂模組</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../views/Home.vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Signin <span class="keyword">from</span> <span class="string">'../views/Signin.vue'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 Vue Router</span></span><br><span class="line">Vue.use(VouRouter);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 設定路由</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    <span class="comment">// 路由可以有巢狀的設定</span></span><br><span class="line">    children:[</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'/signin'</span>,</span><br><span class="line">        component: Signin,</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 宣告 VueRouter 實體</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// export 為 ES6 匯出物件給外部使用的語法， default 可以讓外部自由命名</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>再到 /src/main.js （程式的進入點）產生 Vue 實體的地方，指定 router 。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span>;</span><br><span class="line"><span class="comment">// 預設會引用到 './router/index.js'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span>;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// 指定 router</span></span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function">(<span class="params">h</span>) =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>在 HTML 的部分可以使用一些 router 的標籤。</p>
<ul>
<li>&lt;router-view&gt;<ul>
<li>預設會依照當前的路徑及路由的設定來顯示不同的元件。<ul>
<li>依照上面的路由設定來說，如果 Home 元件中有 &lt;router-view&gt; ，網址又為 /signin ，那 &lt;router-view&gt; 所在的區塊就會顯示 Signin 元件。</li>
</ul>
</li>
<li>如果有 name 屬性，則會顯示對應的元件，例如 &lt;router-view name=”Signin”&gt;</li>
</ul>
</li>
<li>&lt;router-link&gt;<ul>
<li>能切換路由到指定的路徑或元件，例如：<ul>
<li>&lt;router-link to=”/signin”&gt;</router-link></li>
<li>&lt;router-link :to=”{name: ‘Home’}”&gt;</router-link></li>
</ul>
</li>
<li>預設會被渲染成 &lt;a&gt; ，可以用 tag 屬性指定其他標籤</li>
<li>若為當前路徑，會被加上特定的類別名稱（模糊比對預設為 router-link-active ，完全相符預設為 router-link-exact-active ）</li>
</ul>
</li>
</ul>
<h4 id="動態路由配置"><a href="#動態路由配置" class="headerlink" title="動態路由配置"></a>動態路由配置</h4><p>在設定路由的路徑時，可以用 : 指定參數名稱。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/product/:id'</span>,</span><br><span class="line">    name: <span class="string">'Product'</span>,</span><br><span class="line">    component: Product,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<p>在元件中取用參數的方式如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$route.param.id</span><br></pre></td></tr></table></figure>

<p>搭配 XHTMLHttpRequest 或 Axios 可以取得網址上的參數並發出相應的 Request 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Vue.axios.get(<span class="string">`https://example.com/?id=<span class="subst">$&#123;<span class="keyword">this</span>.$route.param.id&#125;</span>`</span>)</span><br><span class="line">         .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// handle success</span></span><br><span class="line">            <span class="built_in">console</span>.log(response);</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// handle error</span></span><br><span class="line">            <span class="built_in">console</span>.log(error);</span><br><span class="line">          &#125;)</span><br><span class="line">          .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// always executed</span></span><br><span class="line">          &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Router-Construction-Options"><a href="#Router-Construction-Options" class="headerlink" title="Router Construction Options"></a><a href="https://router.vuejs.org/zh/api/#router-%E6%9E%84%E5%BB%BA%E9%80%89%E9%A1%B9" target="_blank" rel="noopener">Router Construction Options</a></h4><p>除了上述內容以外， Vue Router 還有許多可以設定的選項。</p>
<ul>
<li>mode ：網址的格式，建議用預設； history 需要搭配後端</li>
<li>base ： Base URL</li>
<li>linkActiveClass ：指定 router-link 為當下路徑時所加上的 class 名稱，為模糊比對</li>
<li>linkExactActiveClass ：同上，路徑必須完全相符</li>
</ul>
<h4 id="Programmatic-Navigation"><a href="#Programmatic-Navigation" class="headerlink" title="Programmatic Navigation"></a><a href="https://router.vuejs.org/zh/guide/essentials/navigation.html" target="_blank" rel="noopener">Programmatic Navigation</a></h4><p>除了使用 &lt;router-link&gt; 來切換路由，也可以用 JavaScript 來切換。</p>
<blockquote>
<p>用法類似於 <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" target="_blank" rel="noopener">History API</a> 。</p>
</blockquote>
<h5 id="router-push-location-onComplete-onAbort"><a href="#router-push-location-onComplete-onAbort" class="headerlink" title="router.push(location, onComplete?, onAbort?)"></a>router.push(location, onComplete?, onAbort?)</h5><ul>
<li>location ：目標路由</li>
<li>onComplete ：切換成功時觸發的 function</li>
<li>onAbort ：切換失敗時觸發的 function</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用字串表示路徑</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(<span class="string">'home'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用物件指定路徑</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="attr">path</span>: <span class="string">'home'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用物件指定元件名稱，並用 params 帶上參數</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="attr">name</span>: <span class="string">'user'</span>, <span class="attr">params</span>: &#123; <span class="attr">userId</span>: <span class="string">'123'</span> &#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用物件指定路徑，並用 query 帶上參數 （在指定路徑的情況下使用 params 是無效的）</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="attr">path</span>: <span class="string">'register'</span>, <span class="attr">query</span>: &#123; <span class="attr">plan</span>: <span class="string">'private'</span> &#125;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用物件指定路徑，字串內含參數</span></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123; <span class="attr">path</span>: <span class="string">`/user/<span class="subst">$&#123;userId&#125;</span>`</span> &#125;)</span><br></pre></td></tr></table></figure>

<h5 id="router-replace-location-onComplete-onAbort"><a href="#router-replace-location-onComplete-onAbort" class="headerlink" title="router.replace(location, onComplete?, onAbort?)"></a>router.replace(location, onComplete?, onAbort?)</h5><p>跟 push 差不多，但是在瀏覽紀錄上會直接蓋掉當下這個瀏覽紀錄。<br>router-link 的用法是 &lt;router-link to=”/“ replace&gt; 。</p>
<h5 id="router-go-n"><a href="#router-go-n" class="headerlink" title="router.go(n)"></a>router.go(n)</h5><p>可以切換到瀏覽紀錄的某一頁。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 切換到上一頁</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重刷當前頁面</span></span><br><span class="line"><span class="keyword">this</span>.$router.go(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>待續</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://clhuang224.github.io/TechBlog/2019/08/08/20190808-hex-vue/" data-id="ck7sommi2000erksken5p0acf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/TechBlog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/TechBlog/tags/Vue-js/" rel="tag">Vue.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/TechBlog/2019/08/10/20190810-f2e-2-w3-MP3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          F2E 2nd 第三關「MP3 Player」 挑戰筆記
        
      </div>
    </a>
  
  
    <a href="/TechBlog/2019/07/22/20190722-f2e-2-w2-FreeCell/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">F2E 2nd 第二關「新接龍」 挑戰筆記</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分類</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/TechBlog/categories/%E6%8A%80%E8%A1%93%E7%9F%AD%E6%96%87/">技術短文</a></li><li class="category-list-item"><a class="category-list-link" href="/TechBlog/categories/%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0/">系列文章</a></li><li class="category-list-item"><a class="category-list-link" href="/TechBlog/categories/%E7%B7%9A%E4%B8%8A%E8%AA%B2%E7%A8%8B%E8%A7%80%E7%9C%8B%E7%AD%86%E8%A8%98/">線上課程觀看筆記</a></li><li class="category-list-item"><a class="category-list-link" href="/TechBlog/categories/%E9%96%8B%E7%99%BC%E6%97%A5%E8%A8%98/">開發日記</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Chrome/" rel="tag">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/JS-%E6%96%B0%E6%89%8B%E5%9C%B0%E4%B8%8B%E5%9F%8E/" rel="tag">JS 新手地下城</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Leaflet/" rel="tag">Leaflet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Loaders-css/" rel="tag">Loaders.css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Open-Street-Map/" rel="tag">Open Street Map</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Phaser/" rel="tag">Phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/RWD/" rel="tag">RWD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Sass/" rel="tag">Sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Sublime-Text-3/" rel="tag">Sublime Text 3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/VSCode/" rel="tag">VSCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/Vue-js/" rel="tag">Vue.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/jQuery/" rel="tag">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/TechBlog/tags/w3HexSchool/" rel="tag">w3HexSchool</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/TechBlog/tags/Android/" style="font-size: 12px;">Android</a> <a href="/TechBlog/tags/CSS/" style="font-size: 18px;">CSS</a> <a href="/TechBlog/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/TechBlog/tags/HTML/" style="font-size: 16px;">HTML</a> <a href="/TechBlog/tags/JS-%E6%96%B0%E6%89%8B%E5%9C%B0%E4%B8%8B%E5%9F%8E/" style="font-size: 12px;">JS 新手地下城</a> <a href="/TechBlog/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/TechBlog/tags/Leaflet/" style="font-size: 10px;">Leaflet</a> <a href="/TechBlog/tags/Loaders-css/" style="font-size: 10px;">Loaders.css</a> <a href="/TechBlog/tags/Open-Street-Map/" style="font-size: 10px;">Open Street Map</a> <a href="/TechBlog/tags/Phaser/" style="font-size: 10px;">Phaser</a> <a href="/TechBlog/tags/RWD/" style="font-size: 10px;">RWD</a> <a href="/TechBlog/tags/Sass/" style="font-size: 10px;">Sass</a> <a href="/TechBlog/tags/Sublime-Text-3/" style="font-size: 10px;">Sublime Text 3</a> <a href="/TechBlog/tags/VSCode/" style="font-size: 10px;">VSCode</a> <a href="/TechBlog/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/TechBlog/tags/jQuery/" style="font-size: 12px;">jQuery</a> <a href="/TechBlog/tags/w3HexSchool/" style="font-size: 14px;">w3HexSchool</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/TechBlog/archives/2019/01/">一月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/TechBlog/2020/03/07/20200307-css-grid/">CSS Grid</a>
          </li>
        
          <li>
            <a href="/TechBlog/2020/02/20/20200220-android-createNewProject/">【 Android 開發入門 02 】開啟專案、設定模擬器與裝置</a>
          </li>
        
          <li>
            <a href="/TechBlog/2020/02/16/20200216-f2e-2-w10-MaskMap/">F2E 2nd 第十關「 口罩地圖」 挑戰筆記</a>
          </li>
        
          <li>
            <a href="/TechBlog/2020/02/06/20200206-android-intro/">【 Android 開發入門 01 】什麼是 Android</a>
          </li>
        
          <li>
            <a href="/TechBlog/2020/01/16/20200116-hex-vscode/">六角學院 Visual Studio Code 課程學習筆記</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Lynn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/TechBlog/" class="mobile-nav-link">Home</a>
  
    <a href="/TechBlog/about" class="mobile-nav-link">About</a>
  
    <a href="/TechBlog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/TechBlog/fancybox/jquery.fancybox.css">

  
<script src="/TechBlog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/TechBlog/js/script.js"></script>




  </div>
</body>
</html>